"use strict";var _createClass=function(){function t(e,i){for(var a=0;a<i.length;a++){var t=i[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}$(window).ready(function(){sendContactMessage(),subscribeNewsletter()});var sendContactMessage=function(){document.querySelector("section#donde-estamos form#contact").onsubmit=function(e){e.preventDefault();var i=!0,a={nombre:e.target.querySelector('input[name="nombre"]'),email:e.target.querySelector('input[name="email"]'),phone:e.target.querySelector('input[name="phone"]'),country:e.target.querySelector('input[name="country"]'),message:e.target.querySelector('textarea[name="message"]')},t=FormValidator.validate({nombre:a.nombre.value,email:a.email.value});FormValidator.CODE.nok===t.nombre.code?(e.target.querySelector('input[name="nombre"] + div.invalid-feedback').innerHTML=t.nombre.msg,a.nombre.classList.remove("is-valid"),a.nombre.classList.add("is-invalid"),i=!1):(a.nombre.classList.remove("is-invalid"),a.nombre.classList.add("is-valid")),FormValidator.CODE.nok===t.email.code?(e.target.querySelector('input[name="email"] + div.invalid-feedback').innerHTML=t.email.msg,a.email.classList.remove("is-valid"),a.email.classList.add("is-invalid"),i=!1):(a.email.classList.remove("is-invalid"),a.email.classList.add("is-valid")),a.phone.classList.add("is-valid"),a.country.classList.add("is-valid"),a.message.classList.add("is-valid"),i&&alert("Sistema de mensajeria en desarrollo, disculpa por las molestias")}},subscribeNewsletter=function(){document.querySelector("footer form#newsletter").onsubmit=function(e){e.preventDefault();var i=e.target.querySelector('input[name="email"]'),a=FormValidator.validateEmail(i.value);FormValidator.CODE.nok===a.code?(e.target.querySelector('input[name="email"] + div.invalid-feedback').innerHTML=a.msg,i.classList.remove("is-valid"),i.classList.add("is-invalid"),output=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid"))}},Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isEmpty",value:function(e){return"string"!=typeof e||0===e.trim().length}},{key:"isValidEmail",value:function(e){return console.log(e),new RegExp(".+@.+..+").test(e)}},{key:"isMinLength",value:function(e,i){return e.trim().length>=i}}]),e}(),FormValidator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"validate",value:function(e){return{nombre:this.validateNombre(e.nombre),email:this.validateEmail(e.email)}}},{key:"validateNombre",value:function(e){var i={code:null,msg:null};return Utils.isEmpty(e)?i.msg=this.MSG.required:Utils.isMinLength(e,3)||(i.msg="Tres "+this.MSG.invalid_min_length),i.code=i.msg?this.CODE.nok:this.CODE.ok,i}},{key:"validateEmail",value:function(e){var i={code:null,msg:null};return Utils.isEmpty(e)?i.msg=this.MSG.required:Utils.isValidEmail(e)||(i.msg=this.MSG.invalid_format),i.code=i.msg?this.CODE.nok:this.CODE.ok,i}},{key:"CODE",get:function(){return{ok:1,nok:2}}},{key:"MSG",get:function(){return{required:"Campo requerido",invalid_format:"Formato no valido",invalid_min_length:"caracteres m√≠nimo"}}}]),e}();